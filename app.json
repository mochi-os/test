// Mochi Test app
// Copyright Alistair Cunningham 2025

{
	"version": "1.0",
	"label": "app_name",
	"classes": ["test"],
	"paths": ["test"],
	"services": ["test"],

	"architecture": {"engine": "starlark", "version": 2},
	"execute": [
		"core.star",
		"groups.star",
		"access.star",
		"multiuser.star",
		"crossinstance.star",
		"attachments.star",
		"attachments_multiuser.star",
		"attachments_crossinstance.star",
		"attachments_url.star",
		"preferences.star",
		"settings.star",
		"users.star",
		"domains.star",
		"appfiles.star",
		"entities.star"
	],

	"database": {
		"file": "test.db",
		"schema": 2,
		"create": {"function": "database_create"}
	},

	"actions": {
		"": {"function": "action_index"},
		"attachments": {"attachments": true},
		"send": {"function": "action_send"},
		"status": {"function": "action_status"},
		"ping": {"function": "action_ping", "public": true},
		"broadcast": {"function": "action_broadcast"},
		"test_broadcast": {"function": "action_test_broadcast", "public": true},
		"test_attach": {"function": "action_test_attach", "public": true},
		"test_detach": {"function": "action_test_detach", "public": true},
		"test_storage_limit": {"function": "action_test_storage_limit", "public": true},
		"test_storage_cleanup": {"function": "action_test_storage_cleanup", "public": true},
		"test_db_limit": {"function": "action_test_db_limit", "public": true},
		"test_db_cleanup": {"function": "action_test_db_cleanup", "public": true},
		"test_p2p_rate_limit": {"function": "action_test_p2p_rate_limit", "public": true},
		"test_groups_crud": {"function": "action_test_groups_crud", "public": true},
		"test_groups_members": {"function": "action_test_groups_members", "public": true},
		"test_groups_nested": {"function": "action_test_groups_nested", "public": true},
		"test_groups_cycle": {"function": "action_test_groups_cycle", "public": true},
		"test_access_basic": {"function": "action_test_access_basic", "public": true},
		"test_access_wildcards": {"function": "action_test_access_wildcards", "public": true},
		"test_access_hierarchy": {"function": "action_test_access_hierarchy", "public": true},
		"test_access_anonymous": {"function": "action_test_access_anonymous", "public": true},
		"test_access_groups": {"function": "action_test_access_groups", "public": true},
		"test_access_deny_precedence": {"function": "action_test_access_deny_precedence", "public": true},
		"test_access_list_clear": {"function": "action_test_access_list_clear", "public": true},
		"test_access_resolution_order": {"function": "action_test_access_resolution_order", "public": true},
		"test_all": {"function": "action_test_all", "public": true},
		"test_multiuser_group_isolation": {"function": "action_test_multiuser_group_isolation", "public": true},
		"test_multiuser_group_isolation_verify": {"function": "action_test_multiuser_group_isolation_verify", "public": true},
		"test_multiuser_access_cross_user": {"function": "action_test_multiuser_access_cross_user", "public": true},
		"test_multiuser_access_user_entity": {"function": "action_test_multiuser_access_user_entity", "public": true},
		"test_crossinstance_groups_isolation": {"function": "action_test_crossinstance_groups_isolation", "public": true},
		"test_crossinstance_groups_verify": {"function": "action_test_crossinstance_groups_verify", "public": true},
		"test_crossinstance_access_isolation": {"function": "action_test_crossinstance_access_isolation", "public": true},
		"test_crossinstance_access_verify": {"function": "action_test_crossinstance_access_verify", "public": true},
		"test_crossinstance_p2p_ping": {"function": "action_test_crossinstance_p2p_ping", "public": true},
		"test_crossinstance_remote_entity_access": {"function": "action_test_crossinstance_remote_entity_access", "public": true},
		"test_attachment_create": {"function": "action_test_attachment_create", "public": true},
		"test_attachment_insert": {"function": "action_test_attachment_insert", "public": true},
		"test_attachment_update": {"function": "action_test_attachment_update", "public": true},
		"test_attachment_move": {"function": "action_test_attachment_move", "public": true},
		"test_attachment_delete": {"function": "action_test_attachment_delete", "public": true},
		"test_attachment_clear": {"function": "action_test_attachment_clear", "public": true},
		"test_attachment_get_data_path": {"function": "action_test_attachment_get_data_path", "public": true},
		"test_attachment_list": {"function": "action_test_attachment_list", "public": true},
		"test_attachment_crud": {"function": "action_test_attachment_crud", "public": true},
		"test_attachment_binary": {"function": "action_test_attachment_binary", "public": true},
		"test_attachment_content_types": {"function": "action_test_attachment_content_types", "public": true},
		"test_attachment_multiuser_isolation": {"function": "action_test_attachment_multiuser_isolation", "public": true},
		"test_attachment_multiuser_isolation_verify": {"function": "action_test_attachment_multiuser_isolation_verify", "public": true},
		"test_attachment_multiuser_shared": {"function": "action_test_attachment_multiuser_shared", "public": true},
		"test_attachment_crossinstance_sync": {"function": "action_test_attachment_crossinstance_sync", "public": true},
		"test_attachment_crossinstance_fetch": {"function": "action_test_attachment_crossinstance_fetch", "public": true},
		"test_attachment_crossinstance_isolation": {"function": "action_test_attachment_crossinstance_isolation", "public": true},
		"test_attachment_crossinstance_notify": {"function": "action_test_attachment_crossinstance_notify", "public": true},
		"test_attachment_all": {"function": "action_test_attachment_all", "public": true},
		"test_attachment_url_single": {"function": "action_test_attachment_url_single", "public": true},
		"test_attachment_url_multiuser": {"function": "action_test_attachment_url_multiuser", "public": true},
		"test_attachment_url_multiuser_verify": {"function": "action_test_attachment_url_multiuser_verify", "public": true},
		"test_attachment_url_crossinstance": {"function": "action_test_attachment_url_crossinstance", "public": true},
		"test_attachment_url_crossinstance_verify": {"function": "action_test_attachment_url_crossinstance_verify", "public": true},
		"test_preferences_get_default": {"function": "action_test_preferences_get_default"},
		"test_preferences_set_get": {"function": "action_test_preferences_set_get"},
		"test_preferences_update": {"function": "action_test_preferences_update"},
		"test_preferences_multiple": {"function": "action_test_preferences_multiple"},
		"test_preferences_all": {"function": "action_test_preferences_all"},
		"test_preferences_return_value": {"function": "action_test_preferences_return_value"},
		"test_preferences_special_chars": {"function": "action_test_preferences_special_chars"},
		"test_preferences_empty_value": {"function": "action_test_preferences_empty_value"},
		"test_preferences_delete": {"function": "action_test_preferences_delete"},
		"test_preferences_cleanup": {"function": "action_test_preferences_cleanup"},
		"test_preferences_suite": {"function": "action_test_preferences_suite"},
		"test_settings_get_public": {"function": "action_test_settings_get_public"},
		"test_settings_get_user_readable": {"function": "action_test_settings_get_user_readable"},
		"test_settings_get_unknown": {"function": "action_test_settings_get_unknown"},
		"test_settings_set_admin": {"function": "action_test_settings_set_admin"},
		"test_settings_set_validation": {"function": "action_test_settings_set_validation"},
		"test_settings_set_readonly": {"function": "action_test_settings_set_readonly"},
		"test_settings_list_admin": {"function": "action_test_settings_list_admin"},
		"test_settings_get_not_user_readable": {"function": "action_test_settings_get_not_user_readable"},
		"test_settings_set_non_admin": {"function": "action_test_settings_set_non_admin"},
		"test_settings_list_non_admin": {"function": "action_test_settings_list_non_admin"},
		"test_settings_get_admin_all": {"function": "action_test_settings_get_admin_all"},
		"test_settings_new_settings": {"function": "action_test_settings_new_settings"},
		"test_settings_suite": {"function": "action_test_settings_suite"},
		"test_users_get_id": {"function": "action_test_users_get_id"},
		"test_users_get_id_not_found": {"function": "action_test_users_get_id_not_found"},
		"test_users_get_username": {"function": "action_test_users_get_username"},
		"test_users_get_username_not_found": {"function": "action_test_users_get_username_not_found"},
		"test_users_list": {"function": "action_test_users_list"},
		"test_users_list_pagination": {"function": "action_test_users_list_pagination"},
		"test_users_count": {"function": "action_test_users_count"},
		"test_users_create_update_delete": {"function": "action_test_users_create_update_delete"},
		"test_users_create_with_role": {"function": "action_test_users_create_with_role"},
		"test_users_create_duplicate": {"function": "action_test_users_create_duplicate"},
		"test_users_delete_self": {"function": "action_test_users_delete_self"},
		"test_users_invite_create": {"function": "action_test_users_invite_create"},
		"test_users_invite_create_custom": {"function": "action_test_users_invite_create_custom"},
		"test_users_invite_list": {"function": "action_test_users_invite_list"},
		"test_users_invite_delete": {"function": "action_test_users_invite_delete"},
		"test_users_invite_validate": {"function": "action_test_users_invite_validate", "public": true},
		"test_users_suite": {"function": "action_test_users_suite"},
		"test_users_get_identity": {"function": "action_test_users_get_identity"},
		"test_users_get_identity_not_found": {"function": "action_test_users_get_identity_not_found"},
		"test_users_get_fingerprint": {"function": "action_test_users_get_fingerprint"},
		"test_users_get_fingerprint_with_hyphens": {"function": "action_test_users_get_fingerprint_with_hyphens"},
		"test_users_get_fingerprint_not_found": {"function": "action_test_users_get_fingerprint_not_found"},
		"test_domains_register": {"function": "action_test_domains_register"},
		"test_domains_get": {"function": "action_test_domains_get"},
		"test_domains_list": {"function": "action_test_domains_list"},
		"test_domains_update": {"function": "action_test_domains_update"},
		"test_domains_delete": {"function": "action_test_domains_delete"},
		"test_domains_lookup": {"function": "action_test_domains_lookup"},
		"test_domains_route_crud": {"function": "action_test_domains_route_crud"},
		"test_domains_cascade_delete": {"function": "action_test_domains_cascade_delete"},
		"test_domains_delegation_full": {"function": "action_test_domains_delegation_full"},
		"test_domains_delegate_path_scope": {"function": "action_test_domains_delegate_path_scope"},
		"test_domains_route_context": {"function": "action_test_domains_route_context"},
		"test_domains_action_context": {"function": "action_test_domains_action_context", "public": true},
		"test_domains_suite": {"function": "action_test_domains_suite"},
		"test_cookie_set": {"function": "action_test_cookie_set", "public": true},
		"test_cookie_get": {"function": "action_test_cookie_get", "public": true},
		"test_cookie_unset": {"function": "action_test_cookie_unset", "public": true},
		"test_appfile_exists_found": {"function": "action_test_appfile_exists_found", "public": true},
		"test_appfile_exists_not_found": {"function": "action_test_appfile_exists_not_found", "public": true},
		"test_appfile_exists_directory": {"function": "action_test_appfile_exists_directory", "public": true},
		"test_appfile_exists_nested": {"function": "action_test_appfile_exists_nested", "public": true},
		"test_appfile_exists_traversal": {"function": "action_test_appfile_exists_traversal", "public": true},
		"test_appfile_exists_dotfile": {"function": "action_test_appfile_exists_dotfile", "public": true},
		"test_appfile_list_directory": {"function": "action_test_appfile_list_directory", "public": true},
		"test_appfile_list_subdirectory": {"function": "action_test_appfile_list_subdirectory", "public": true},
		"test_appfile_list_missing": {"function": "action_test_appfile_list_missing", "public": true},
		"test_appfile_list_file": {"function": "action_test_appfile_list_file", "public": true},
		"test_appfile_list_traversal": {"function": "action_test_appfile_list_traversal", "public": true},
		"test_appfile_read_text": {"function": "action_test_appfile_read_text", "public": true},
		"test_appfile_read_json": {"function": "action_test_appfile_read_json", "public": true},
		"test_appfile_read_nested": {"function": "action_test_appfile_read_nested", "public": true},
		"test_appfile_read_appjson": {"function": "action_test_appfile_read_appjson", "public": true},
		"test_appfile_read_missing": {"function": "action_test_appfile_read_missing", "public": true},
		"test_appfile_read_traversal": {"function": "action_test_appfile_read_traversal", "public": true},
		"test_write_from_app_text": {"function": "action_test_write_from_app_text", "public": true},
		"test_write_from_app_json": {"function": "action_test_write_from_app_json", "public": true},
		"test_write_from_app_nested": {"function": "action_test_write_from_app_nested", "public": true},
		"test_write_from_app_custom_content_type": {"function": "action_test_write_from_app_custom_content_type", "public": true},
		"test_write_from_app_missing": {"function": "action_test_write_from_app_missing", "public": true},
		"test_write_from_app_traversal": {"function": "action_test_write_from_app_traversal", "public": true},
		"test_appfile_exists_suite": {"function": "action_test_appfile_exists_suite", "public": true},
		"test_appfile_list_suite": {"function": "action_test_appfile_list_suite", "public": true},
		"test_appfile_read_suite": {"function": "action_test_appfile_read_suite", "public": true},
		"test_appfile_suite": {"function": "action_test_appfile_suite", "public": true},
		"test_appfile_p2p_stream": {"function": "action_test_appfile_p2p_stream"},
		"test_entity_update_name": {"function": "action_test_entity_update_name"},
		"test_entity_update_data": {"function": "action_test_entity_update_data"},
		"test_entity_update_privacy": {"function": "action_test_entity_update_privacy"},
		"test_entity_update_multiple": {"function": "action_test_entity_update_multiple"},
		"test_entity_update_invalid": {"function": "action_test_entity_update_invalid"},
		"test_entity_update_suite": {"function": "action_test_entity_update_suite"},
		"test_account_add_kwargs": {"function": "action_test_account_add_kwargs"},
		"test_account_update_kwargs": {"function": "action_test_account_update_kwargs"},
		"test_account_suite": {"function": "action_test_account_suite"}
	},

	"events": {
		"ping": {"function": "event_ping"},
		"pong": {"function": "event_pong"},
		"broadcast": {"function": "event_broadcast"},
		"appfile_stream": {"function": "event_appfile_stream"}
	}
}
